@using Microsoft.AspNetCore.WebUtilities
@using ProITM.Shared
@inject NavigationManager Navigation

<style>
    .container-details-table{
        font-size: 16pt;
    }
    .container-details-table td:first-child{
        font-weight: bold;
    }
</style>

<h3>Szczegóły kontenera</h3>

<div>
    <table class="container-details-table table table-hover table-dark">
        <tbody>
            <tr>
                <td>ID</td>
                <td>@Container.ID</td>
            </tr>
            <tr>
                <td>Nazwa</td>
                <td>@Container.Name</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>@Container.Status</td>
            </tr>
            <tr>
                <td>Oryginalny obraz</td>
                <td>*nazwa/id obrazu*</td>
            </tr>
            <tr>
                <td>Host macierzysty</td>
                <td>*nazwa/id maszyny*</td>
            </tr>
            <tr>
                <td>Data utworzenia</td>
                <td>@(DateTime.Now.ToString())</td>
            </tr>
        </tbody>
    </table>
</div>

@code {
    public ExampleContainer Container { get; set; }
    protected override void OnInitialized()
    {
        var uri = Navigation.ToAbsoluteUri(Navigation.Uri);
        if (QueryHelpers.ParseQuery(uri.Query).TryGetValue("id", out var _containerID))
        {
            var ID = _containerID;
            Container = DummyMethodGetContainerFromBackend(ID);
        }
    }


    private ExampleContainer DummyMethodGetContainerFromBackend(string ID)
    {
        return new ExampleContainer { ID = ID, Name = "jakaś nazwa", Status = "running :v" };
    }

    public class ExampleContainer
    {
        public string Name { get; set; }
        public string ID { get; set; }
        public string Status { get; set; }
    }


}
